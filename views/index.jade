//- TODO: These styles should move into a stylesheet at some point, but
  having them inline here is easier during early development

style
  fieldset {
    margin-top: 10px;
    border: solid 1px #ccc;
    border-width: 1px 0px 0px 0px;
  }

  input[type="radio"], input[type="checkbox"] {
    margin-right: 10px;
  }

  dt {
    font-weight: bold;
    color: #444;
  }
  dd {
    margin-bottom: 1em;
  }

  .module li {
    list-style-type: none;
  }

  .module b {
    display: inline-block;
    min-width: 60px;
    font-family: monospace;
  }

script
  function addJarvis() {
    external.AddSearchProvider('http://localhost:3000/jarvis.xml');
  }

  function setDefault(cmd) {
    document.cookie=[
      'd=' + cmd,
      'path=/',
      'max-age=' + 1e8
    ].join(';')
  }

dl
  dt What is it?
  dd
    | Jarvis lets you create custom commands for your browser's search box, and
    | share those commands with friends and coworkers.  Whether it's a customer
    | database, issue tracking system, source code repository, company wiki,
    | inventory system, or simply a shared collection of bookmarks , Jarvis
    | makes helps you get there.

  dt How's it work?
  dd
    | It's so darn simple it's almost embarassing.  Just 
    a(href='#',onclick='addJarvis()') add Jarvis to your search box
    |  and search for "jarvis" to get started. (PENDING: that link only works
    | on IE and FF for the moment.  Safari/Chrome support coming soon.)

  dt "Wait... you're not one of those spammy toolbar things are you?"
  dd
    | Nope.  Jarvis is 100% kosher.  No spam, no malware/adware, nothing to
    | install &hellip; none of that nonsense.  In fact, it's opensource so 
    a(href='https://github.com/broofa/jarvis') check it out
    |  and help us improve it.

h2 Commands

each group, k in command.groups
  h3 #{k} commands
  
  ul.module
    each cmd in group.commands
      li
        label
          input(type='radio',
          name='command',
          checked=defaultCommand = cmd.phrase,
          onclick='setDefault(\'' + cmd.phrase + '\')')
          | !{cmd.doc}
